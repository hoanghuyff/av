local Players = game:GetService('Players')
local Client = Players.LocalPlayer

_G.EnableFriendRequest = true  -- Bật tính năng gửi yêu cầu kết bạn
_G.WaitToSendFriend = 300  -- Thời gian chờ giữa các vòng gửi yêu cầu kết bạn

local AlreadySent = {}  -- Danh sách lưu trữ người đã gửi yêu cầu

-- Gửi yêu cầu kết bạn
local function AutoAddFriends()
    while _G.EnableFriendRequest do
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= Client and not AlreadySent[player.Name] then
                local success, err = pcall(function()
                    Client:RequestFriendship(player)
                end)
                if success then
                    warn("Sent friend request to:", player.Name)
                    AlreadySent[player.Name] = true  -- Đánh dấu người chơi đã gửi yêu cầu
                else
                    warn("Failed to send friend request to:", player.Name, "Error:", err)
                end
            end
            wait(1)  -- Thời gian chờ giữa các lần gửi yêu cầu
        end
        task.wait(_G.WaitToSendFriend)  -- Thời gian chờ giữa các vòng lặp
    end
end

-- Khởi chạy tính năng auto add friend
task.spawn(AutoAddFriends)
